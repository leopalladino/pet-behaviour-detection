# Pet Video Dialogue: Animal Pose Detection & Dialogue Generation

Generate humorous dialogue for your pets in pre-recorded videos based on their body language.

## Overview

Pet Video Dialogue is an AI-powered application that processes videos of pets (currently supporting dogs and cats), detects their poses, interprets their body language, and overlays the video with humorous AI-generated "thoughts" or "speech" that matches their behavior.

## Example Outputs

Here are some example outputs generated by the application:

### Happy Dog Example
![Happy Dog Example](output/gifs/happy_output.gif)
*Dimensions: 240x426*

### Angry Dog Example
![Angry Dog Example](output/gifs/angry_output.gif)
*Dimensions: 240x426*

## Features

- **Video Processing**: Upload pre-recorded videos of your pets for processing
- **Pose Detection**: Uses MediaPipe to detect animal poses and body language
- **Behavior Classification**: Interprets poses as emotional/behavioral states
- **Dialogue Generation**: Creates humorous, contextual dialogue using TinyLlama-1.1B-Chat
- **Personality Options**: Choose from different personality traits (Enthusiastic, Sassy, Dramatic, Philosophical, Sarcastic)
- **Display Options**: Show dialogue as speech bubbles near pet's head or captions at bottom
- **User-Friendly Interface**: Easy upload, processing status tracking, and result viewing

## Technical Architecture

The system consists of several key components:

1. **Video Processing**: Handles uploading, frame extraction, and output generation
2. **Pose Detection**: MediaPipe-based animal pose recognition
3. **Behavior Classification**: Rule-based mapping of poses to emotional states
4. **Dialogue Generation**: LLM-powered text generation with personality traits
5. **Web Interface**: FastAPI backend with HTML/JS frontend

For more details, see [ARCHITECTURE.md](ARCHITECTURE.md).

## Setup and Installation

### Prerequisites

- Python 3.8 or higher
- OpenCV dependencies (for video processing)
- Optional: NVIDIA GPU for faster processing

### Installation

1. Clone the repository:
   ```bash
   git clone https://github.com/yourusername/pet-video-dialogue.git
   cd pet-video-dialogue
   ```

2. Create a virtual environment:
   ```bash
   python -m venv venv
   source venv/bin/activate  # On Windows: venv\Scripts\activate
   ```

3. Install dependencies:
   ```bash
   pip install -r requirements.txt
   ```

4. Set up environment variables:
   - Copy `.env.example` to `.env`
   - Set your Hugging Face API token (for TinyLlama model access)

## Usage

1. Start the server:
   ```bash
   python app.py
   ```

2. Open your browser to `http://localhost:8000`

3. Upload a video of your pet and configure settings:
   - Select animal type (dog, cat, or auto-detect)
   - Choose a personality trait
   - Select display mode (speech bubble, caption, or both)

4. Wait for processing to complete

5. View and download the processed video with pet dialogue

## Best Practices for Videos

- Record in good lighting conditions
- Ensure your pet is clearly visible
- Recommended resolution: 720p or higher
- Ideal length: 15-60 seconds
- Make sure key body parts (face, tail, ears) are visible

## Limitations

- Best results with single-animal videos
- May not accurately interpret all animal behaviors
- Performance depends on video quality and clarity
- Processing time increases with video length

## Roadmap

- Improved multi-animal support
- Additional animal types (birds, horses, etc.)
- Custom personality creator
- More display styles and visual effects
- Mobile app version

## License

This project is licensed under the MIT License - see the LICENSE file for details.

## Acknowledgments

- MediaPipe for pose detection models
- TinyLlama for dialogue generation
- All pet owners who contributed test videos

## Note

This application is for entertainment purposes only. The generated dialogue is not a representation of what your pet is actually thinking and should not be used for animal behavior analysis.

## Example Outputs

Here are some example outputs generated by the application:

### Happy Dog Example
![Happy Dog Example](output/gifs/happy_output.gif)
*Dimensions: 240x426*

### Angry Dog Example
![Angry Dog Example](output/gifs/angry_output.gif)
*Dimensions: 240x426* 